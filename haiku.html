<head>
  <title>Haiku Generator</title>

    <!-- CSS Reset -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">

    <!-- Milligram CSS minified -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.0.3/milligram.min.css">

    <link rel="stylesheet" href="haiku.css">

    <!-- typekit -->
    <script>
      (function(d) {
        var config = {
          kitId: 'jlq2jec',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);
    </script>

</head>

<body class="home" id="">

</body>


<template name="defaultLayout">
  <div class="" id="{{routeName}}">
  {{> Template.dynamic template=nav}}
  <div class="main-wrapper">{{> Template.dynamic template=main}}</div>
  {{> Template.dynamic template=footer}}
</div>
</template>

<template name="nav">
  <nav>
    {{#if currentUser}}
      <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/admin">Admin</a></li>
          <!--<li><a href="#" id="log-out">Log-Out</a></li>-->
          <li class="log">{{> atNavButton}}</li>
      </ul>
    {{/if}}
  </nav>
</template>

<template name="footer">
  <footer> </footer>
</template>

<template name="homeLayout">
  <!--<section id="main-wrap">
    <div>
      <h1>Random Haiku</h1>
    </div>-->

    <ul id="main-random">
        {{#if randLinesFive1}}
        <li><a href="#" class="five1">{{randLinesFive1.text}}</a></li>
        {{/if}}

        {{#if randLinesSeven}}
        <li><a href="#" class="seven">{{randLinesSeven.text}}</a></li>
        {{/if}}

        {{#if randLinesFive2}}
        <li><a href="#" class="five2">{{randLinesFive2.text}}</a></li>
        {{/if}}

        <button id="reload">Reload</button>
    </ul>


  <!--</section>-->

</template>


<template name="adminLayout">

    <header>
      <h3>Haiku Lines Manager</h3>
    </header>

    <form class="new-line">
        <label>Haiku Lines
          <input type="text" name="text" placeholder="Type to add new lines" />
        </label>
        <div>
        <label>Syllables
          <select name="syl">
            <option name="" value="5"> 5</option>
            <option name="" value="7"> 7</option>
          </select>
        </label>
        <button type="submit">Submit</button>
      </div>
    </form>

    <h4>Lines</h4>
    <ul id="admin-lines">
      {{#each lines}}
        {{> line}}
      {{/each}}
    </ul>

</template>


<template name="line">
  <li>
    <button class="delete">&times;</button>
    <div class="text">{{text}} <span class="syllable">{{syl}}</span></div>
    {{#if admin}}<div class="author">{{user}}</div>{{/if}}
  </li>
</template>


<template name="myLogin">
  <div>{{> atForm}}</div>
</template>
